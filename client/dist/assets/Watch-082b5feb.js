import{_ as s,r as n,u as w,b as a,j as t,F as x,w as _,x as C}from"./index-3e55079a.js";import{C as W}from"./CategoryTitle.component-6fa465c6.js";import{S as v}from"./Spin.component-345606c9.js";import"./Spin.styles-cd18b5b4.js";const I=s.div.withConfig({displayName:"Watchstyles__Container",componentId:"sc-1u1h88m-0"})(["display:flex;flex-direction:column;"]),M=s.h2.withConfig({displayName:"Watchstyles__Attention",componentId:"sc-1u1h88m-1"})(["text-align:center;color:var(--text-white);margin-bottom:3rem;"]),S=s.div.withConfig({displayName:"Watchstyles__MagnetContainer",componentId:"sc-1u1h88m-2"})(["display:flex;justify-content:center;gap:40px;flex-wrap:wrap;"]),N=s.a.withConfig({displayName:"Watchstyles__Magnet",componentId:"sc-1u1h88m-3"})(["color:var(--primary-color);font-size:2rem;"]),b=s.div.withConfig({displayName:"Watchstyles__MagnetDetails",componentId:"sc-1u1h88m-4"})(["color:var(--text-white);"]),A=()=>{const[m,p]=n.useState(""),[c,g]=n.useState(null),[l,d]=n.useState(!1),[h,u]=n.useState(null),{id:o}=w();n.useEffect(()=>{o&&(async()=>{d(!0);const i=await _(o);p(i.title);const{data:r}=await C(i.title);g(r),d(!1)})()},[o]);const f=()=>{if(c)return c.map((e,i)=>{console.log(e);const r=e.title.match(/\d+(?=p)/g);return t("div",{children:[t(N,{href:e.magnet,download:!0,children:["Link ",i+1]}),t(b,{children:[t("h5",{children:["peers: ",e.peers]}),t("h5",{children:["seeds: ",e.seeds]}),t("h5",{children:["size: ",e.size]}),t("h5",{children:["quality: ",r]})]})]})})},y=`Watch ${m} online`;return h?a(WatchTorrent,{setFile:u,file:h}):t(I,{children:[a(W,{title:y}),l&&a(v,{}),!l&&t(x,{children:[a(M,{children:"When downloading the magnet link use a torrent streaming app like Stremio or WebTorrent to watch it."}),a(S,{children:f()}),")"]})]})};export{A as default};
